<header class="bg-red-500 text-white p-4 shadow-md sticky top-0 z-10">
  <nav class="container mx-auto">
    <!-- Desktop Navigation -->
    <div class="hidden md:flex md:justify-between md:items-center">
      <ul class="flex items-center flex-wrap gap-1">
        <li>
          <a
            href="/"
            class="<%= currentPage === 'index' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300"
          >
            Home
          </a>
        </li>
        <li>
          <a
            href="/facilities"
            class="<%= currentPage === 'facilities' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300"
          >
            Facilities
          </a>
        </li>
        <% if (!isLoggedIn) { %>
        <li>
          <a
            href="/ourstaff"
            class="<%= currentPage === 'ourstaff' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300"
          >
            Our Staff
          </a>
        </li>
        <% } %>

        <% if (isLoggedIn) { %>
          <% if (user && user.userType === 'guest') { %>
            <li>
              <a
                href="/staff"
                class="<%= currentPage === 'staff' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300"
              >
                Our Staff
              </a>
            </li>

            <li>
              <a
                href="/Appointments"
                class="<%= currentPage === 'Appointments' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300"
              >
                Requested Appointments
              </a>
            </li>
          <% } else { %>
            <li>
              <a
                href="/host/host-dr-list"
                class="<%= currentPage === 'host-homes' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300"
              >
              Dr List
              </a>
            </li>

            <li>
              <a
                href="/host/add-doctor"
                class="<%= currentPage === 'addHome' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300"
              >
                Add Doctor
              </a>
            </li>
          <% } %>
        <% } %>
      </ul>

      <ul class="flex items-center gap-2">
        <% if (!isLoggedIn) { %>
        <li>
          <a
            href="/signup"
            class="<%= currentPage === 'signup' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300 border border-white"
          >
            SignUp
          </a>
        </li>
        <li>
          <a
            href="/login"
            class="<%= currentPage === 'signup' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-4 rounded-lg transition duration-300 border border-white"
          >
            Login
          </a>
        </li>
        <% } else { %>
        <li>
          <form action="/logout" method="POST">
            <button
              type="submit"
              class="hover:bg-red-400 py-2 px-4 rounded-lg transition duration-300 border border-white"
            >
              Logout
            </button>
          </form>
        </li>
        <% } %>
      </ul>
    </div>

    <!-- Mobile Navigation -->
    <div class="md:hidden">
      <div class="flex justify-between items-center">
        <a
          href="/"
          class="flex items-center py-2 px-3 rounded-lg transition duration-300 <%= currentPage === 'index' ? 'bg-red-600 font-medium' : '' %>"
        >
          Hospital
        </a>

        <button id="mobile-menu-button" class="p-2 rounded-lg hover:bg-red-400">
          Menu
        </button>
      </div>

      <div id="mobile-menu" class="hidden mt-2">
        <ul class="flex flex-col space-y-1 border-t border-red-400 pt-2 mt-2">
          <li>
            <a
              href="/"
              class="<%= currentPage === 'index' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg"
            >
              Home
            </a>
          </li>
          <li>
            <a
              href="/facilities"
              class="<%= currentPage === 'facilities' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg"
            >
              Facilities
            </a>
          </li>
          <% if (!isLoggedIn) { %>
          <li>
            <a
              href="/ourstaff"
              class="<%= currentPage === 'ourstaff' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg"
            >
              Our Staff
            </a>
          </li>
          <% } %>
          <% if (isLoggedIn) { %>
          <% if (user && user.userType === 'guest') { %>
          <li>
            <a
              href="/homes"
              class="<%= currentPage === 'Home' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg"
            >
              Our Staff
            </a>
          </li>
          <li>
            <a
              href="/favourites"
              class="<%= currentPage === 'favourites' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg"
            >
              Requested Appointments
            </a>
          </li>
          <% } else { %>
          <li>
            <a
              href="/host/host-dr-list"
              class="<%= currentPage === 'host-homes' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg"
            >
              Dr List
            </a>
          </li>
          <li>
            <a
              href="/host/add-doctor"
              class="<%= currentPage === 'addHome' ? 'bg-red-600 font-medium' : 'hover:bg-red-400' %> py-2 px-3 rounded-lg"
            >
              Add Doctor
            </a>
          </li>
          <% } %>
          <li class="pt-2 border-t border-red-400 mt-2">
            <form action="/logout" method="POST">
              <button
                type="submit"
                class="hover:bg-red-400 py-2 px-3 rounded-lg w-full text-left"
              >
                Logout
              </button>
            </form>
          </li>
          <% } else { %>
          <li>
            <a
              href="/signup"
              class="hover:bg-red-400 py-2 px-3 rounded-lg block"
            >
              SignUp
            </a>
          </li>
          <li>
            <a
              href="/login"
              class="bg-white text-red-500 hover:bg-red-50 py-2 px-3 rounded-lg block mt-2"
            >
              Login
            </a>
          </li>
          <% } %>
        </ul>
      </div>
    </div>
  </nav>
</header>

<script>
  // Mobile menu toggle
  document
    .getElementById("mobile-menu-button")
    ?.addEventListener("click", function () {
      const menu = document.getElementById("mobile-menu");
      menu.classList.toggle("hidden");
    });
</script>
